<tbody id="cos-inc-vat">

      <%# unless @purchase_transactions.blank? %>
         <%#= render :partial=> 'saved_transactions', :locals=>{:@transactions=>@purchase_transactions, :@sub_totals => $cos_sub_totals } %>
         
         <% cf_view_service = CashFlowLedgerService.new(@ledger) %>
         
         <% $cos_tags.each do |tag| %>
            <% trns = cf_view_service.group_trns_by_mi(tag) %>
            <% next if trns.blank? %>
            <%= render partial: 'saved_transactions', locals: {:@transactions=> trns, :@sub_totals => $cos_sub_totals } %>
         <% end %>

      <%# end %>

      <% $cos_tags.each do |tag| %>
          <!-- selector tag for caching data with mapping -->
          <tr data-pb-tag="<%= tag %>" data-pb-type="Credit">
              <td><input type="text" name="transaction[description]" placeholder="Add <%= tag %>"></td>
              <% $no_of_columns.times do |row| %>
                  <%= user_input_cell %>
              <% end %>
              <td>0</td>
          </tr>
      <% end %>
      <!-- SAVE BUTTON -->
      <tr>
          <td id="save-cos-inc-vat" class="button-style"><%= submit_tag 'Save Details' %></td>
          <% $no_of_columns.times do |row| %>
              <td></td>
          <% end %>
          <td></td>
      </tr>

</tbody>