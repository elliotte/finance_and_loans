function errorDisplay(){console.log("errrrrrrr"),$("#empty-modal-body-append").children().hide(),$("#modal-empty").trigger("click"),$("#empty-modal-body-append").empty(),html='<p>ERROR SOMETHING WENT WRONG</p><a href="/" data-no-turbolinks=true>RECONNECT</a>',$("#empty-modal-body-append").append(html)}function successDisplay(){$("#empty-modal-body-append").children().hide(),$("#modal-empty").trigger("click"),link_href=this.responseText,html=link_href.indexOf("ERROR")>-1?'<p>ERROR</p><a href="/" data-no-turbolinks=true>RECONNECT</a>':'<p>Successfully exported</p><a href="'+link_href+'" target="_blank">View Export</a>',$("#empty-modal-body-append").append(html)}var trialBalanceHelper=function(){return{setGLTableListeners:function(){$(".ledger_account").on("click",function(){$("#empty-modal-body-append").children().hide();var e=$(this).data("key"),t=document.getElementById(e);$(".modal-inner").addClass("widen"),$("#modal-empty").trigger("click"),$("#empty-modal-body-append").append(t),$("#empty-modal-body-append").prepend("<p>"+e+"</p>"),"none"==$(t).css("display")?$(t).css("display","initial"):$(t).css("display","none"),$(".modal-close").on("click",function(){$(".modal-state:checked").prop("checked",!1).change(),$(".modal-inner").removeClass("widen")})})},exportTBToGoogle:function(){var e=$("meta[name='csrf-token']").attr("content");tbAmts=$(".key-total-line"),exportRows=[],$.each(tbAmts,function(e,t){tbLine={reportingLine:$(t).data("key"),lineAmount:$(t).data("amount")},exportRows.push(tbLine)});var t=new XMLHttpRequest;t.onload=successDisplay,t.onerror=errorDisplay,t.open("post","/cash_ledgers/"+$("#tb-id").text()+"/export_tb_google",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-CSRF-Token",e),t.send(JSON.stringify(exportRows))},exportGLToGoogle:function(){var e=$("meta[name='csrf-token']").attr("content");glData=$(".gl-export-data"),exportRows=[],$.each(glData,function(e,t){_trn=$(t),glTrnLine={glName:_trn.data("gl-name"),trnID:_trn.data("id"),amt:_trn.data("amt"),tag:_trn.data("tag"),date:_trn.data("date"),description:_trn.data("desc")},exportRows.push(glTrnLine)});var t=new XMLHttpRequest;t.onload=successDisplay,t.onerror=errorDisplay,t.open("post","/cash_ledgers/"+$("#tb-id").text()+"/export_gl_google",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-CSRF-Token",e),t.send(JSON.stringify(exportRows))}}}();